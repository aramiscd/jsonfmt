module App.Cmd exposing
    ( exitFailure
    , printLine
    )

import App.Msg exposing ( Msg )
import Bytes exposing ( Bytes )
import Node
import Stream
import Task


exitFailure : Cmd Msg
exitFailure =
    Node.exitWithCode 1


printLine : Stream.Writable Bytes -> String -> Cmd Msg
printLine toStream data =
    Stream.writeStringAsBytes data toStream
    |> Task.onError ( \ _ -> Task.succeed toStream )
    |> Task.execute
